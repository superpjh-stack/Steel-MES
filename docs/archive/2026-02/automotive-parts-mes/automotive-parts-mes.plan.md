# Plan: 자동차부품제조 전문 MES (Manufacturing Execution System)

## 메타 정보

| 항목 | 내용 |
|------|------|
| 기능명 | automotive-parts-mes |
| 작성일 | 2026-02-20 |
| 레벨 | Dynamic |
| 참고사이트 | [광성정밀(주)](http://www.kspre.co.kr/main/index.html) |
| 대상 업종 | 자동차 브레이크·핸들 부품 제조 (단조/프레스/기계가공) |

---

## 1. 배경 및 목적

### 배경
광성정밀(주)과 같은 자동차부품 제조업체는 브레이크·핸들 부품을 납품하는 1·2차 협력사로서
OEM 완성차 메이커(현대/기아/GM 등)의 **품질 요구(IATF 16949)** 와 **납기 준수** 압박을 동시에 받고 있다.
현장 데이터가 종이 작업일지·수기 QC 기록에 의존하는 경우 실시간 생산 가시성이 없어
불량 조기 감지, 설비 효율 분석, 납기 예측이 어렵다.

### 목적
- 생산 현장 데이터를 **실시간 디지털화**하여 생산·품질·설비·자재를 통합 관리
- 완성차 OEM 요구 품질 기준(IATF 16949, APQP, PPAP) 대응 체계 구축
- 작업자 / 현장 관리자 / 경영진 각 계층에 맞는 정보 제공

---

## 2. 핵심 기능 범위 (Scope)

### 2.1 생산관리 (Production Management)
- **작업지시(Work Order)** 생성·발행·조회
- 공정별 작업 실적 입력 (수량, 시간, 작업자)
- 생산 진행률 실시간 모니터링 (Gantt / 공정별 현황판)
- 일·주·월 생산 실적 집계 및 리포트

### 2.2 품질관리 (Quality Management)
- 수입검사 / 공정검사 / 출하검사 기록
- 불량 유형 코드 관리 및 불량 이력 추적
- SPC(통계적 공정관리): X-bar/R chart, Cp/Cpk
- 부적합품 처리 흐름 (격리 → 재작업/폐기 → 승인)
- 고객 불량 클레임 접수 및 8D 대응 이력 관리
- IATF 16949 대응 품질 문서 연계

### 2.3 설비관리 (Equipment Management)
- 설비 마스터 등록 (프레스, 단조기, CNC, 조립기 등)
- 예방보전(PM) 계획 수립 및 실적 관리
- 고장 발생 즉시 알림 및 수리 이력 기록
- OEE(Overall Equipment Effectiveness) 산출: 가동률 / 성능률 / 양품률

### 2.4 자재·재고관리 (Material / Inventory)
- 원자재 입고 등록 및 로트(LOT) 추적
- 공정별 자재 소비 실적 연동
- 반제품·완제품 재고 현황
- 최소 재고 알림 (발주점 관리)

### 2.5 출하·납기관리 (Shipping & Delivery)
- 출하 지시 및 포장 단위 관리
- 고객사별 납기 현황 대시보드
- 납기 준수율(OTD) 추적

### 2.6 현장 작업자 인터페이스
- 터치스크린 기반 공정 현황판 (대형 모니터 / 태블릿)
- QR코드/바코드 스캔으로 작업 실적 입력
- 작업 표준서(SOP) 팝업 표시

### 2.7 경영 대시보드
- 공장 전체 KPI 요약 (생산/품질/설비/납기)
- 실시간 이상 알림 (불량율 임계값 초과, 설비 정지 등)

---

## 3. 사용자 역할 (Roles)

| 역할 | 주요 기능 |
|------|----------|
| 작업자 (Operator) | 작업 실적 입력, 불량 보고, SOP 조회 |
| 품질담당 (QC) | 검사 기록, 부적합 처리, SPC 조회 |
| 설비담당 (ME) | 설비 보전 기록, 고장 등록 |
| 생산관리자 (Supervisor) | 작업지시 관리, 생산 현황 모니터링 |
| 공장장 / 경영진 | KPI 대시보드, 리포트 |
| 시스템관리자 (Admin) | 마스터 데이터, 사용자/권한 관리 |

---

## 4. 비기능 요구사항

| 항목 | 요건 |
|------|------|
| 접근성 | 웹 기반 (PC + 터치패널 지원), 사내 LAN 환경 |
| 성능 | 동시 사용자 50명, 화면 응답 ≤ 2초 |
| 가용성 | 24시간 3교대 운영, 계획정비 외 다운타임 최소화 |
| 보안 | 역할 기반 접근제어(RBAC), 작업 이력 감사 로그 |
| 연동 | ERP(생산지시/자재 연동), 설비 PLC/SCADA 데이터 수집(선택) |
| 언어 | 한국어 기본, 영어 전환 가능 |

---

## 5. 기술 스택

| 계층 | 기술 |
|------|------|
| Frontend | Next.js 14 (App Router), TypeScript, Tailwind CSS, shadcn/ui |
| Backend | Next.js API Routes (Server Actions 포함) |
| ORM | Prisma (타입 안전 DB 접근) |
| DB | PostgreSQL 16 (사내 서버 또는 Docker) |
| 인증 | NextAuth.js v5 (Credentials Provider + JWT 세션) |
| 실시간 | SSE — Server-Sent Events (공정현황판 자동 갱신) |
| 파일 저장 | 로컬 파일시스템 또는 MinIO (온프레미스 S3 호환) |
| 차트 | Recharts (SPC, OEE, KPI) |
| 바코드 | html5-qrcode, jsbarcode |
| 배포 | Docker Compose (사내 서버 온프레미스) |

> **아키텍처 결정 근거**
> - 외부 BaaS 의존성 없이 사내 LAN 환경에서 완전 독립 운영
> - IATF 16949 품질 데이터를 외부 전송 없이 내부 보관
> - 인터넷 단절 환경(공장 내부망)에서도 정상 가동
> - Prisma Schema를 단일 진실 공급원(Source of Truth)으로 DB 관리

---

## 6. 개발 단계 (Phased Roadmap)

### Phase 1 — 핵심 기반 (MVP)
- 사용자 인증 및 권한 관리
- 품목/공정/설비/고객사 마스터 등록
- 작업지시 생성 및 생산 실적 입력
- 기본 품질 검사 기록
- 생산 현황 대시보드

### Phase 2 — 품질·설비 강화
- SPC 차트 (X-bar/R, 히스토그램)
- OEE 계산 및 설비 보전 이력
- 부적합품 처리 흐름
- 로트 추적 (원자재 → 완제품)

### Phase 3 — 고도화·연동
- ERP 연동 (생산지시 자동 수신, 실적 전송)
- PLC/SCADA 설비 데이터 자동 수집
- 8D 불량 대응 리포트
- 모바일 현장 입력 최적화

---

## 7. 성공 지표 (KPI)

| 지표 | 목표 |
|------|------|
| 현장 데이터 디지털화율 | ≥ 95% (수기 → 시스템) |
| 불량 조기 감지 시간 | 기존 대비 50% 단축 |
| OEE 가시성 | 실시간 + 일별 리포트 |
| 납기 준수율(OTD) | ≥ 98% 달성 추적 |
| 사용자 만족도 | 현장 작업자 80% 이상 긍정 평가 |

---

## 8. 위험 요소 및 대응

| 위험 | 대응 |
|------|------|
| 현장 작업자 시스템 거부감 | 터치 UI 단순화, 바코드 스캔 최소화, 교육 병행 |
| ERP 연동 복잡성 | Phase 1은 수동 입력으로 시작, Phase 3에서 자동화 |
| 24시간 운영 중 장애 | Docker 재시작 정책 + PostgreSQL WAL 백업, 장애 시 로컬 수기 입력 후 복구 |
| 품목/공정 데이터 마이그레이션 | 마스터 데이터 일괄 등록 도구 제공 |

---

## 9. 다음 단계

```
/pdca design automotive-parts-mes   ← 상세 설계 (DB 스키마, API, 화면)
/phase-1-schema                      ← 도메인 용어 정의
```

